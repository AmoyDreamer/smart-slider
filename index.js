!function(){function t(t){var m=this;this.container=document.getElementsByClassName(t.container)[0],this.itemDOM=document.getElementsByClassName(t.item),this.itemNum=this.itemDOM.length,this.auto="boolean"==typeof t.auto&&t.auto,this.autoTime="number"==typeof t.autoTime?t.autoTime:3e3,this.rate="number"==typeof t.rate&&0<t.rate&&t.rate<1?t.rate:.5,this.scale="number"==typeof t.scale&&0<t.scale&&t.scale<=1?t.scale:1,this.sendIndex="function"==typeof t.getIndexCallback?t.getIndexCallback:null,this.index=0,this.timer=null,this.listener={resize:null,touchstart:null,touchmove:null,touchend:null,transitionend:null},this.moveInfo={active:!1,startX:0,diffX:0,translateX:0,endX:0,startTime:0,endTime:0,maxX:0,minX:0},this.isPassiveSupported=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t},this.onMoveStart=function(t){t.preventDefault();var e=t.touches[0].pageX;m.auto&&m.timer&&clearTimeout(m.timer);t=m.container;m.moveInfo.startX=e,m.moveInfo.active=!0,m.moveInfo.startTime=Date.now(),t.style.cursor="-webkit-grabbing",t.style.transitionDuration="0ms"},this.onMove=function(t){t.preventDefault();var e,n,i=t.touches[0].pageX;m.moveInfo.active&&(e=m.container,m.moveInfo.diffX=m.moveInfo.startX-i,n=m.moveInfo.endX-m.moveInfo.diffX,t=m.moveInfo.minX,i=m.moveInfo.maxX,m.moveInfo.translateX=n=t<n?t:n<i?i:n,e.style.transform="translate("+n+"px, 0) translateZ(0)",e.style.webkitTransform="translate("+n+"px, 0) translateZ(0)")},this.onMoveEnd=function(t){var e=m.container,n=m.index,i=m.moveInfo.translateX,o=m.moveInfo.minX,s=m.moveInfo.maxX,r=m.moveInfo.diffX,a=Date.now()-m.moveInfo.startTime,l=m.itemNum+1,n=Math.abs(r/a)>=m.rate&&i<=o&&s<=i?0<r?n+2:n:n+1;m.moveInfo.active=!1,e.style.cursor="-webkit-grab",i===m.moveInfo.endX?e.style.transitionDuration="0ms":e.style.transitionDuration="300ms",m.moveInfo.endX=-(n*m.moveInfo.containerWidth),m.index=n==l?0:0==n?m.itemNum-1:n-1,m.sendIndex&&m.sendIndex(m.index),e.style.transform="translate("+m.moveInfo.endX+"px, 0) translateZ(0)",e.style.webkitTransform="translate("+m.moveInfo.endX+"px, 0) translateZ(0)",m.moveInfo.diffX=0,m.startScale(),m.auto&&m.autoScroll()},this.onTransitionEnd=function(t){var e;if(m.moveInfo.endX==m.moveInfo.maxX)return(e=m.container).style.transitionDuration="0ms",e.style.transform="translate("+m.moveInfo.initX+"px, 0) translateZ(0)",e.style.webkitTransform="translate("+m.moveInfo.initX+"px, 0) translateZ(0)",void(m.moveInfo.endX=m.moveInfo.initX);0==m.moveInfo.endX&&((e=m.container).style.transitionDuration="0ms",e.style.transform="translate("+m.moveInfo.lastX+"px, 0) translateZ(0)",e.style.webkitTransform="translate("+m.moveInfo.lastX+"px, 0) translateZ(0)",m.moveInfo.endX=m.moveInfo.lastX)},this.autoScroll=function(){m.timer=setTimeout(function(){if(m.moveInfo.active)return m.autoScroll();var t=m.container,e=m.itemNum+1,n=m.index+2;m.index=(n=e<n?1:n)==e?0:n-1,m.sendIndex&&m.sendIndex(m.index),m.moveInfo.endX=-1*n*m.moveInfo.containerWidth,t.style.transitionDuration="300ms",t.style.transform="translate("+m.moveInfo.endX+"px, 0) translateZ(0)",t.style.webkitTransform="translate("+m.moveInfo.endX+"px, 0) translateZ(0)",m.startScale(),m.autoScroll()},m.autoTime)},this.startScale=function(){var t=m.scale;1!=t&&(m.itemDOM[m.index].style.transform="scaleY("+t+")",m.itemDOM[m.index+1].style.transform="scaleY(1)",m.itemDOM[m.index+2].style.transform="scaleY("+t+")",0==m.index?(m.itemDOM[m.itemNum].style.transform="scaleY("+t+")",m.itemDOM[m.itemNum+1].style.transform="scaleY(1)"):m.index==m.itemNum-1&&(m.itemDOM[m.itemNum-1].style.transform="scaleY("+t+")",m.itemDOM[0].style.transform="scaleY(1)",m.itemDOM[1].style.transform="scaleY("+t+")"))},this.init=function(){this.initTargetDOM(),this.initData()},this.initTargetDOM=function(){var t=m.container,e=t.firstChild,n=t.lastChild,i=e.cloneNode(!0),n=n.cloneNode(!0);t.insertBefore(n,e),t.appendChild(i)},this.initData=function(){var t=m.container,e=t.firstChild,n=window.getComputedStyle(e),e=n.width.replace(/px/,""),n=n.marginRight.replace(/px/,"");m.moveInfo.containerWidth=Number(e)+Number(n),m.moveInfo.maxX=-(m.moveInfo.containerWidth*(m.itemNum+1)),m.moveInfo.minX=0,m.moveInfo.initX=-m.moveInfo.containerWidth,m.moveInfo.lastX=m.moveInfo.maxX+m.moveInfo.containerWidth,m.moveInfo.endX=m.moveInfo.initX,t.style.width=-m.moveInfo.maxX+"px",t.style.transitionTimingFunction="cubic-bezier(0.165, 0.84, 0.44, 1)",t.style.transitionDuration="0ms",t.style.transform="translate("+m.moveInfo.initX+"px, 0) translateZ(0)",t.style.webkitTransform="translate("+m.moveInfo.initX+"px, 0) translateZ(0)",m.startScale()},this.resize=function(){m.listener.resize=m.initData,window.addEventListener("resize",m.listener.resize)},this.touchStart=function(){m.listener.touchstart=m.onMoveStart,m.container.addEventListener("touchstart",m.listener.touchstart,!!m.isPassiveSupported()&&{passive:!0})},this.touchMove=function(){m.listener.touchmove=m.onMove,m.container.addEventListener("touchmove",m.listener.touchmove,!1)},this.touchEnd=function(){m.listener.touchend=this.onMoveEnd,m.container.addEventListener("touchend",m.listener.touchend,!1)},this.transitionEnd=function(){m.listener.transitionend=m.onTransitionEnd,m.container.addEventListener("transitionend",m.listener.transitionend,!1)},this.resetAllListener=function(){m.timer=null,m.listener={resize:null,touchstart:null,touchmove:null,touchend:null,transitionend:null}},this.removeAllListener=function(){m.timer&&clearTimeout(m.timer),m.listener.resize&&window.removeEventListener("resize",m.listener.resize),m.container.removeEventListener("touchstart",m.listener.touchstart,!1),m.container.removeEventListener("touchmove",m.listener.touchmove,!1),m.container.removeEventListener("touchend",m.listener.touchend,!1),m.container.removeEventListener("transitionend",m.listener.transitionend,!1),m.resetAllListener()},this.sendIndex&&this.sendIndex(this.index),1<this.itemNum&&(this.init(),this.resize(),this.touchStart(),this.touchMove(),this.touchEnd(),this.transitionEnd(),this.auto&&this.autoScroll())}"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=t:exports).Slider=t:this.Slider=t}.call(this);